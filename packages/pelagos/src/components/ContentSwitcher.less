@import '../../less/spacing';
@import '../../less/utils';

.ContentSwitcher {
	display: grid;
	grid-auto-flow: column;
	grid-auto-columns: 1fr;
	border: 1px solid var(--border-strong);
	border-radius: 4px;

	&__button {
		@focus-visible();
		position: relative;
		height: 32px;
		padding: 0 @sp-16;
		text-align: start;
		white-space: nowrap;
		color: var(--text-secondary);
		background-color: transparent;
		border: none;
		transition: background-color 0.15s ease-out;

		&:first-child {
			border-top-left-radius: 4px;
			border-bottom-left-radius: 4px;
		}

		&:last-child {
			border-top-right-radius: 4px;
			border-bottom-right-radius: 4px;
		}

		&:hover {
			color: var(--text-primary);
			background-color: var(--background-hover);
		}

		&:focus-visible {
			box-shadow: inset 0 0 0 3px var(--focus-inset);
		}

		&::before {
			content: '';
			position: absolute;
			top: 25%;
			left: 0;
			height: 50%;
			border-left: 1px solid var(--border-subtle);
			transition: opacity 0.15s ease-out;
		}

		&:first-child::before,
		&:hover::before,
		&:focus::before,
		:hover + &::before,
		:focus + &::before,
		.ContentSwitcher--selected + &::before {
			opacity: 0;
		}

		&[aria-selected='true'] {
			color: var(--text-inverse);
			background-color: var(--layer-selected-inverse);

			&:hover {
				color: var(--text-inverse);
				background-color: var(--layer-selected-inverse);
			}

			&::before {
				opacity: 0;
			}
		}
	}
}
